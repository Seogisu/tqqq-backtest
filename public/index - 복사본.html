<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TQQQ ì¥ êµ¬ë¶„ ë°±í…ŒìŠ¤íŠ¸</title>
    <style>
        /* ... (CSS ìŠ¤íƒ€ì¼ì€ ì´ì „ê³¼ ë™ì¼í•˜ë¯€ë¡œ ìƒëµ) ... */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .form-section {
            padding: 40px;
            background: #f8f9fa;
        }

        /* New style for Current Phase Display */
        .current-phase-box {
            background: #e9ecef; /* Light gray background */
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #dee2e6;
            text-align: center;
        }

        .current-phase-box h3 {
            font-size: 1.2em;
            color: #495057;
            margin-bottom: 10px;
        }

        .current-phase-status {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            padding: 10px 0;
        }

        .current-phase-detail {
            font-size: 0.9em;
            color: #6c757d;
        }

        /* Color classes for status */
        .current-phase-box.bull { background: #d4edda; border-color: #c3e6cb; }
        .current-phase-box.bear { background: #f8d7da; border-color: #f5c6cb; }
        .current-phase-box.reentry { background: #fff3cd; border-color: #ffeeba; }
        .current-phase-box.momentum, .current-phase-box.momentum2 { background: #d1ecf1; border-color: #bee5eb; }
        .current-phase-box.unknown, .current-phase-box.error { background: #e9ecef; border-color: #dee2e6; }

        .current-phase-status.bull { color: #155724; }
        .current-phase-status.bear { color: #721c24; }
        .current-phase-status.reentry { color: #856404; }
        .current-phase-status.momentum, .current-phase-status.momentum2 { color: #0c5460; }
        .current-phase-status.unknown, .current-phase-status.error { color: #6c757d; }
        /* End New style */

        .info-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .info-box h3 {
            color: #667eea;
            margin-bottom: 10px;
        }
        
        /* ìƒˆë¡œìš´ ì¥ êµ¬ë¶„ ì„¤ì • í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .phase-config-table {
            width: 100%;
            margin-top: 15px;
            border-collapse: collapse;
            background: white;
            font-size: 0.9em;
        }

        .phase-config-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: 600;
        }

        .phase-config-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .phase-config-table select {
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        
        .info-box .header-row { /* ìƒˆë¡œìš´ Flexbox ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 10px;
        }

        /* ì¥ êµ¬ë¶„ ì„¤ì • ìŠ¤íƒ€ì¼ ë */

        .phase-table { /* ê¸°ì¡´ ì¥ êµ¬ë¶„ í…Œì´ë¸” ìŠ¤íƒ€ì¼ì€ ì‚­ì œí•˜ì§€ ì•Šê³  ìœ ì§€ */
            width: 100%;
            margin-top: 15px;
            border-collapse: collapse;
            background: white;
            font-size: 0.9em;
        }

        .phase-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: 600;
        }

        .phase-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .phase-bull { background: #d4edda; }
        .phase-bear { background: #f8d7da; }
        .phase-reentry { background: #fff3cd; }
        .phase-momentum { background: #d1ecf1; }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .form-group input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .allocation-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .allocation-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .allocation-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        /* ëª¨ë©˜í…€2ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ ì¡°ì • */
        .allocation-section .allocation-grid:nth-child(2) {
             grid-template-columns: repeat(1, 1fr);
             max-width: 330px; /* Adjust width for single column card */
        }
        @media (min-width: 1200px) {
            .allocation-section .allocation-grid:nth-child(2) {
                grid-template-columns: repeat(4, 1fr);
                max-width: none;
            }
        }
        /* End ëª¨ë©˜í…€2ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ ì¡°ì • */

        .allocation-card {
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
        }

        .allocation-card h4 {
            margin-bottom: 10px;
            font-size: 1em;
            text-align: center;
        }

        .allocation-card.bull { border-color: #28a745; background: #d4edda; }
        .allocation-card.bear { border-color: #dc3545; background: #f8d7da; }
        .allocation-card.reentry { border-color: #ffc107; background: #fff3cd; }
        .allocation-card.momentum { border-color: #17a2b8; background: #d1ecf1; }

        .allocation-input {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .allocation-input label {
            flex: 1;
            font-size: 0.9em;
        }

        .allocation-input input {
            width: 70px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: right;
        }
        
        .allocation-input .cash-value {
            width: 70px;
            padding: 5px;
            text-align: right;
            font-weight: bold;
            color: #28a745; /* í˜„ê¸ˆì€ ê¸°ë³¸ì ìœ¼ë¡œ ì´ˆë¡ìƒ‰ */
        }
        /* í˜„ê¸ˆ ê°’ì´ ë§ˆì´ë„ˆìŠ¤ì¼ ë•Œ (ì´ˆê³¼ ë°°ë¶„) ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œ */
        .allocation-input .cash-value.negative {
            color: #dc3545;
        }

        .btn-submit {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-submit:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .results-section {
            padding: 40px;
            display: none;
        }

        .results-section.show {
            display: block;
        }

        .view-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .view-btn {
            padding: 12px 30px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s;
        }
        /* ê¸°ë³¸ ì„¤ì • ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¡°ì • */
        .info-box .view-btn {
            padding: 8px 15px;
            font-size: 0.9em;
        }


        .view-btn:hover {
            background: #f0f0f0;
        }

        .view-btn.active {
            background: #667eea;
            color: white;
        }

        .summary-cards {
            display: grid;
            /* 4ê°œ ì¹´ë“œë¥¼ ìœ„í•œ ë ˆì´ì•„ì›ƒ ì¡°ì • */
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .summary-card h3 {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .summary-card .value {
            font-size: 2em;
            font-weight: bold;
        }

        .table-container {
            overflow-x: auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-height: 600px;
            overflow-y: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        table th {
            background: #667eea;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        table td {
            padding: 12px 8px;
            border-bottom: 1px solid #eee;
            text-align: center;
        }

        table tr:hover {
            background: #f8f9fa;
        }

        /* ì¥ êµ¬ë¶„ ìƒ‰ìƒ í´ë˜ìŠ¤ */
        .phase-bull-cell {
            background: #d4edda !important;
            color: #155724;
            font-weight: bold;
        }

        .phase-bear-cell {
            background: #f8d7da !important;
            color: #721c24;
            font-weight: bold;
        }

        .phase-reentry-cell {
            background: #fff3cd !important;
            color: #856404;
            font-weight: bold;
        }

        .phase-momentum-cell, .phase-momentum2-cell { /* ëª¨ë©˜í…€2 ì¶”ê°€ */
            background: #d1ecf1 !important;
            color: #0c5460;
            font-weight: bold;
        }
        /* ì¥ êµ¬ë¶„ ìƒ‰ìƒ í´ë˜ìŠ¤ ë */

        .positive {
            color: #28a745;
            font-weight: 600;
        }

        .negative {
            color: #dc3545;
            font-weight: 600;
        }

        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .spinner-small { /* í˜„ì¬ ì¥ ìƒí™© í‘œì‹œìš© ì‘ì€ ìŠ¤í”¼ë„ˆ */
             width: 25px;
             height: 25px;
             margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #dc3545;
            display: none;
        }

        .error.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š TQQQ ì¥ êµ¬ë¶„ ë°±í…ŒìŠ¤íŠ¸</h1>
            <p>ì´ë™í‰ê· ì„  ê¸°ë°˜ ì¥ ìƒí™©ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹± ì „ëµ</p>
        </div>

        <div class="form-section">
            
            <div class="current-phase-box" id="currentPhaseBox">
                <h3>í˜„ì¬ ì¥ ìƒí™© í™•ì¸ ì¤‘...</h3>
                <span class="current-phase-status" style="font-size: 1.5em;"><div class="spinner spinner-small"></div></span>
            </div>
            <div class="info-box">
                <div class="header-row">
                    <h3>ğŸ“ˆ ì¥ êµ¬ë¶„ ê¸°ì¤€ ì„¤ì • (TQQQ ê¸°ì¤€)</h3>
                    <button type="button" id="btnDefaultMa" class="view-btn">ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ</button>
                </div>
                
                <p style="margin-bottom: 10px; font-size: 0.85em; color: #555;">TQQQ ì£¼ê°€ê°€ ê° ì´ë™í‰ê· ì„ (MA) ëŒ€ë¹„ **ìœ„(Above), ì•„ë˜(Below), í•´ë‹¹ì—†ìŒ(Any)** ì¤‘ ì–´ë–¤ ìƒíƒœì¼ ë•Œ í•´ë‹¹ ì¥ìœ¼ë¡œ íŒë‹¨í• ì§€ ì„¤ì •í•˜ì„¸ìš”.</p>
                
                <table class="phase-config-table">
                    <thead>
                        <tr>
                            <th>ì¥ êµ¬ë¶„</th>
                            <th>1000 SMA</th>
                            <th>200 SMA</th>
                            <th>20 SMA</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ìƒìŠ¹ì¥ (Bull)</strong></td>
                            <td><select id="ma1000-bull"><option value="any" selected>í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                            <td><select id="ma200-bull"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above" selected>ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                            <td><select id="ma20-bull"><option value="any" selected>í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                        </tr>
                        <tr>
                            <td><strong>í•˜ë½ì¥ (Bear)</strong></td>
                            <td><select id="ma1000-bear"><option value="any" selected>í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                            <td><select id="ma200-bear"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                            <td><select id="ma20-bear"><option value="any" selected>í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                        </tr>
                        <tr>
                            <td><strong>ì¬ì§„ì… (Re-entry)</strong></td>
                            <td><select id="ma1000-reentry"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                            <td><select id="ma200-reentry"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                            <td><select id="ma20-reentry"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                        </tr>
                        <tr>
                            <td><strong>ëª¨ë©˜í…€ (Momentum)</strong></td>
                            <td><select id="ma1000-momentum"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above" selected>ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                            <td><select id="ma200-momentum"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                            <td><select id="ma20-momentum"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above" selected>ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                        </tr>
                        <tr>
                            <td><strong>ëª¨ë©˜í…€2 (Momentum2)</strong></td>
                            <td><select id="ma1000-momentum2"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above">ìœ„</option><option value="below" selected>ì•„ë˜</option></select></td>
                            <td><select id="ma200-momentum2"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above" selected>ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                            <td><select id="ma20-momentum2"><option value="any">í•´ë‹¹ì—†ìŒ</option><option value="above" selected>ìœ„</option><option value="below">ì•„ë˜</option></select></td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 10px; font-size: 0.85em; color: #555;">* Momentum, Momentum2ëŠ” ì„ì˜ë¡œ ì§€ì •ëœ ì¥ì…ë‹ˆë‹¤. ëª¨ë“  ì¡°ê±´ì„ Anyë¡œ ì„¤ì •í•˜ì—¬ ë¹„í™œì„±í™”í•˜ê±°ë‚˜, ì›í•˜ëŠ” ë‹¤ë¥¸ ì¡°í•©ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **ì¥ íŒë‹¨ì€ ì„¤ì •ëœ ìˆœì„œëŒ€ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.**</p>
            </div>

            <div class="error" id="error"></div>

            <form id="backtestForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label>ì¢…ëª© 1 (Stock1)</label>
                        <input type="text" id="stock1" placeholder="ì˜ˆ: TQQQ" value="TQQQ" required>
                    </div>
                    <div class="form-group">
                        <label>ì¢…ëª© 2 (Stock2)</label>
                        <input type="text" id="stock2" placeholder="ì˜ˆ: SQQQ" value="SQQQ" required>
                    </div>
                    <div class="form-group">
                        <label>ì‹œì‘ì¼</label>
                        <input type="date" id="startDate" value="2020-01-01" required>
                    </div>
                    <div class="form-group">
                        <label>ì¢…ë£Œì¼</label>
                        <input type="date" id="endDate" required>
                    </div>
                    <div class="form-group">
                        <label>ì´ˆê¸° íˆ¬ìê¸ˆ (USD)</label>
                        <input type="number" id="initialCash" placeholder="10000" value="10000" min="1" required>
                    </div>
                </div>

                <div class="allocation-section">
                    <h3>ì¥ ìƒí™©ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ë°°ë¶„ (%) - í˜„ê¸ˆì€ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.</h3>
                    <div class="allocation-grid">
                        <div class="allocation-card bull">
                            <h4>ğŸŸ¢ ìƒìŠ¹ì¥</h4>
                            <div class="allocation-input">
                                <label class="stock1-label">Stock1</label>
                                <input type="number" id="bull-stock1" value="100" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label class="stock2-label">Stock2</label>
                                <input type="number" id="bull-stock2" value="0" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label>í˜„ê¸ˆ</label>
                                <span id="bull-cash-display" class="cash-value"></span>
                                <span>%</span>
                            </div>
                        </div>

                        <div class="allocation-card bear">
                            <h4>ğŸ”´ í•˜ë½ì¥</h4>
                            <div class="allocation-input">
                                <label class="stock1-label">Stock1</label>
                                <input type="number" id="bear-stock1" value="0" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label class="stock2-label">Stock2</label>
                                <input type="number" id="bear-stock2" value="10" min="0" max="100">
                                <span>%</span>
                            </div>
                             <div class="allocation-input">
                                <label>í˜„ê¸ˆ</label>
                                <span id="bear-cash-display" class="cash-value"></span>
                                <span>%</span>
                            </div>
                        </div>

                        <div class="allocation-card reentry">
                            <h4>ğŸŸ¡ ì¬ì§„ì…</h4>
                            <div class="allocation-input">
                                <label class="stock1-label">Stock1</label>
                                <input type="number" id="reentry-stock1" value="10" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label class="stock2-label">Stock2</label>
                                <input type="number" id="reentry-stock2" value="0" min="0" max="100">
                                <span>%</span>
                            </div>
                             <div class="allocation-input">
                                <label>í˜„ê¸ˆ</label>
                                <span id="reentry-cash-display" class="cash-value"></span>
                                <span>%</span>
                            </div>
                        </div>

                        <div class="allocation-card momentum">
                            <h4>ğŸ”µ ëª¨ë©˜í…€ì „í™˜</h4>
                            <div class="allocation-input">
                                <label class="stock1-label">Stock1</label>
                                <input type="number" id="momentum-stock1" value="30" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label class="stock2-label">Stock2</label>
                                <input type="number" id="momentum-stock2" value="0" min="0" max="100">
                                <span>%</span>
                            </div>
                             <div class="allocation-input">
                                <label>í˜„ê¸ˆ</label>
                                <span id="momentum-cash-display" class="cash-value"></span>
                                <span>%</span>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 15px;" class="allocation-grid">
                        <div class="allocation-card momentum">
                            <h4>ğŸ”µ ëª¨ë©˜í…€2</h4>
                            <div class="allocation-input">
                                <label class="stock1-label">Stock1</label>
                                <input type="number" id="momentum2-stock1" value="30" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label class="stock2-label">Stock2</label>
                                <input type="number" id="momentum2-stock2" value="0" min="0" max="100">
                                <span>%</span>
                            </div>
                            <div class="allocation-input">
                                <label>í˜„ê¸ˆ</label>
                                <span id="momentum2-cash-display" class="cash-value"></span>
                                <span>%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-submit" id="submitBtn">ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰</button>
            </form>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘... (ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„)</p>
        </div>

        <div class="results-section" id="results">
            <h2 style="margin-bottom: 20px;">ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼</h2>
            
            <div class="summary-cards" id="summaryResults">
                </div>

            <div class="view-selector">
                <button class="view-btn active" id="btnDaily">ì˜ì—…ì¼ë³„</button>
                <button class="view-btn" id="btnMonthly">ì›”ë³„</button>
                <button class="view-btn" id="btnYearly">ì—°ë³„</button>
            </div>

            <h3 style="margin-bottom: 15px;" id="tableTitle">ì˜ì—…ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ í˜„í™©</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>ë‚ ì§œ</th>
                            <th>ì¥êµ¬ë¶„</th>
                            <th>TQQQ<br>ì£¼ê°€</th>
                            <th id="stock1Header">Stock1<br>ì£¼ê°€</th>
                            <th id="stock1ValueHeader">Stock1<br>í‰ê°€ì•¡</th>
                            <th id="stock2Header">Stock2<br>ì£¼ê°€</th>
                            <th id="stock2ValueHeader">Stock2<br>í‰ê°€ì•¡</th>
                            <th>í˜„ê¸ˆ</th>
                            <th>ì´ í‰ê°€ì•¡</th>
                            <th>ìˆ˜ìµë¥ </th>
                        </tr>
                    </thead>
                    <tbody id="resultsTable"></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        let currentData = null;
        const STORAGE_KEY = 'tqqqBacktestSettings'; // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í‚¤ ì •ì˜
        const PHASES = ['bull', 'bear', 'reentry', 'momentum', 'momentum2'];
        
        // **ìƒˆë¡œ ì •ì˜ëœ ê¸°ë³¸ MA ì„¤ì •ê°’**
        const DEFAULT_MA_CONFIG = {
            bull: { ma1000: 'any', ma200: 'above', ma20: 'any' },
            bear: { ma1000: 'any', ma200: 'below', ma20: 'any' },
            reentry: { ma1000: 'below', ma200: 'below', ma20: 'below' },
            momentum: { ma1000: 'above', ma200: 'below', ma20: 'above' },
            momentum2: { ma1000: 'below', ma200: 'above', ma20: 'above' }
        };
        // **MA ì„¤ì •ê°’ ë**

        function getYesterdayDate() {
            const today = new Date();
            const yesterday = new Date(today);
            yesterday.setDate(today.getDate() - 1); 
            const year = yesterday.getFullYear();
            const month = String(yesterday.getMonth() + 1).padStart(2, '0');
            const day = String(yesterday.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function updateAllocationLabels() {
            const stock1Ticker = document.getElementById('stock1').value.toUpperCase() || 'Stock1';
            const stock2Ticker = document.getElementById('stock2').value.toUpperCase() || 'Stock2';

            document.querySelectorAll('.stock1-label').forEach(label => {
                label.textContent = stock1Ticker;
            });

            document.querySelectorAll('.stock2-label').forEach(label => {
                label.textContent = stock2Ticker;
            });
        }
        
        /**
         * ì£¼ì‹ ë¹„ìœ¨ì„ ê¸°ë°˜ìœ¼ë¡œ í˜„ê¸ˆ ë¹„ìœ¨ì„ ê³„ì‚°í•˜ê³  í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
         * @param {string} phase ì¥ êµ¬ë¶„ í‚¤ ('bull', 'bear', ...)
         * @returns {number} ê³„ì‚°ëœ í˜„ê¸ˆ ë¹„ìœ¨ (ìŒìˆ˜ì¼ ìˆ˜ ìˆìŒ)
         */
        function updateCashDisplay(phase) {
            // NaN ë°©ì§€ë¥¼ ìœ„í•´ || 0 ì¶”ê°€
            const stock1 = parseFloat(document.getElementById(`${phase}-stock1`).value) || 0;
            const stock2 = parseFloat(document.getElementById(`${phase}-stock2`).value) || 0;
            
            // í˜„ê¸ˆ ë¹„ìœ¨ ìë™ ê³„ì‚° (100%ë¥¼ ì´ˆê³¼í•˜ë©´ ìŒìˆ˜)
            const cash = 100 - stock1 - stock2;
            
            const cashDisplayEl = document.getElementById(`${phase}-cash-display`);
            
            // í˜„ê¸ˆ í‘œì‹œ ë° ìƒ‰ìƒ ë³€ê²½
            cashDisplayEl.textContent = cash.toFixed(0); 
            cashDisplayEl.classList.remove('negative');
            if (cash < 0) {
                cashDisplayEl.textContent = `-${Math.abs(cash).toFixed(0)}`;
                cashDisplayEl.classList.add('negative');
            }
            
            return cash;
        }

        function initializeCashDisplays() {
            PHASES.forEach(updateCashDisplay);
        }

        function getAllocationAndMaConfig() {
            const maConfig = {};
            const allocation = {};

            PHASES.forEach(phase => {
                maConfig[phase] = {
                    ma1000: document.getElementById(`ma1000-${phase}`).value,
                    ma200: document.getElementById(`ma200-${phase}`).value,
                    ma20: document.getElementById(`ma20-${phase}`).value,
                };
                
                const stock1 = parseFloat(document.getElementById(`${phase}-stock1`).value);
                const stock2 = parseFloat(document.getElementById(`${phase}-stock2`).value);
                
                // í˜„ê¸ˆ ìë™ ê³„ì‚°
                const cash = 100 - stock1 - stock2;

                allocation[phase] = {
                    stock1: stock1,
                    stock2: stock2,
                    cash: cash, // ì„œë²„ì— ê³„ì‚°ëœ í˜„ê¸ˆ ë¹„ìœ¨ ì „ë‹¬
                };
            });

            return { maConfig, allocation };
        }
        
        /**
         * ì¥ êµ¬ë¶„ ê¸°ì¤€ì„ ë¯¸ë¦¬ ì •ì˜ëœ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ëŒë¦¬ê³  í™”ë©´ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
         */
        function setDefaultMaConfig() {
            const defaultSettings = DEFAULT_MA_CONFIG;
            
            PHASES.forEach(phase => {
                const config = defaultSettings[phase];
                if (config) {
                    if (document.getElementById(`ma1000-${phase}`)) document.getElementById(`ma1000-${phase}`).value = config.ma1000;
                    if (document.getElementById(`ma200-${phase}`)) document.getElementById(`ma200-${phase}`).value = config.ma200;
                    if (document.getElementById(`ma20-${phase}`)) document.getElementById(`ma20-${phase}`).value = config.ma20;
                }
            });
            
            alert("ì¥ êµ¬ë¶„ ê¸°ì¤€ì´ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }
        
        /**
         * í˜„ì¬ì˜ ëª¨ë“  ì„¤ì •ê°’ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•©ë‹ˆë‹¤.
         */
        function saveSettings() {
            const settings = {};

            // 1. General Settings
            settings.general = {
                stock1: document.getElementById('stock1').value,
                stock2: document.getElementById('stock2').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                initialCash: document.getElementById('initialCash').value,
            };

            // 2. MA Config
            settings.maConfig = {};
            PHASES.forEach(phase => {
                settings.maConfig[phase] = {
                    ma1000: document.getElementById(`ma1000-${phase}`).value,
                    ma200: document.getElementById(`ma200-${phase}`).value,
                    ma20: document.getElementById(`ma20-${phase}`).value,
                };
            });

            // 3. Allocation Config
            settings.allocation = {};
            PHASES.forEach(phase => {
                settings.allocation[phase] = {
                    stock1: document.getElementById(`${phase}-stock1`).value,
                    stock2: document.getElementById(`${phase}-stock2`).value,
                };
            });

            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(settings));
            } catch (e) {
                console.warn("ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì„¤ì •ì„ ì €ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", e);
            }
        }
        
        /**
         * ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì„¤ì •ê°’ì„ ë¶ˆëŸ¬ì™€ í¼ì„ ì±„ì›ë‹ˆë‹¤.
         * @returns {boolean} ì„¤ì • ë¡œë“œ ì„±ê³µ ì—¬ë¶€
         */
        function loadSettings() {
            try {
                const storedSettings = localStorage.getItem(STORAGE_KEY);
                if (!storedSettings) return false;

                const settings = JSON.parse(storedSettings);

                // 1. General Settings
                if (settings.general) {
                    document.getElementById('stock1').value = settings.general.stock1 || 'TQQQ';
                    document.getElementById('stock2').value = settings.general.stock2 || 'SQQQ';
                    document.getElementById('startDate').value = settings.general.startDate || '2020-01-01';
                    document.getElementById('endDate').value = settings.general.endDate || getYesterdayDate();
                    document.getElementById('initialCash').value = settings.general.initialCash || '10000';
                }

                // 2. MA Config
                if (settings.maConfig) {
                    PHASES.forEach(phase => {
                        const config = settings.maConfig[phase];
                        if (config) {
                            if (document.getElementById(`ma1000-${phase}`)) document.getElementById(`ma1000-${phase}`).value = config.ma1000;
                            if (document.getElementById(`ma200-${phase}`)) document.getElementById(`ma200-${phase}`).value = config.ma200;
                            if (document.getElementById(`ma20-${phase}`)) document.getElementById(`ma20-${phase}`).value = config.ma20;
                        }
                    });
                } else {
                     // ì €ì¥ëœ ì„¤ì •ì´ ì—†ìœ¼ë©´ MAëŠ” ë””í´íŠ¸ ê°’ìœ¼ë¡œ ì„¤ì •
                     setDefaultMaConfig();
                }

                // 3. Allocation Config
                if (settings.allocation) {
                    PHASES.forEach(phase => {
                        const alloc = settings.allocation[phase];
                        if (alloc) {
                            if (document.getElementById(`${phase}-stock1`)) document.getElementById(`${phase}-stock1`).value = alloc.stock1;
                            if (document.getElementById(`${phase}-stock2`)) document.getElementById(`${phase}-stock2`).value = alloc.stock2;
                        }
                    });
                }
                
                return true;

            } catch (e) {
                console.error("ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:", e);
                return false;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // 1. ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì„¤ì • ë¡œë“œ
            const settingsLoaded = loadSettings();

            // 2. ì„¤ì •ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì¢…ë£Œì¼ì´ ë¹„ì–´ìˆìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì • (ì–´ì œ ë‚ ì§œ)
            if (!settingsLoaded || !document.getElementById('endDate').value) {
                document.getElementById('endDate').value = getYesterdayDate();
            }

            // 3. ì¢…ëª© ë¼ë²¨ ë° í˜„ê¸ˆ ë¹„ìœ¨ í‘œì‹œ ì—…ë°ì´íŠ¸ (ë¡œë“œëœ ê°’ ê¸°ë°˜)
            updateAllocationLabels();
            initializeCashDisplays(); 

            // 4. í˜„ì¬ ì¥ ìƒí™© ë¡œë“œ
            fetchCurrentPhase();
            
            // 5. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.getElementById('btnDefaultMa').addEventListener('click', setDefaultMaConfig); // **ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ ë¦¬ìŠ¤ë„ˆ**

            // ì£¼ì‹ ë¹„ìœ¨ ì…ë ¥ ì‹œ í˜„ê¸ˆ ë¹„ìœ¨ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            PHASES.forEach(phase => {
                document.getElementById(`${phase}-stock1`).addEventListener('input', () => updateCashDisplay(phase));
                document.getElementById(`${phase}-stock2`).addEventListener('input', () => updateCashDisplay(phase));
            });
        });


        document.getElementById('stock1').addEventListener('input', updateAllocationLabels);
        document.getElementById('stock2').addEventListener('input', updateAllocationLabels);

        document.getElementById('backtestForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            updateAllocationLabels(); 
            
            const stock1Ticker = document.getElementById('stock1').value.toUpperCase();
            const stock2Ticker = document.getElementById('stock2').value.toUpperCase();
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const initialCash = document.getElementById('initialCash').value;
            
            const { maConfig, allocation } = getAllocationAndMaConfig();
            
            // **ë°°ë¶„ ìœ íš¨ì„± ê²€ì‚¬**
            let isValid = true;
            let errorMsg = '';

            for (const phase of PHASES) {
                // Cashê°€ ìŒìˆ˜ì¸ì§€ í™•ì¸ (Stock1 + Stock2 > 100 ì¸ ê²½ìš°)
                if (allocation[phase].cash < 0) {
                    const totalStock = allocation[phase].stock1 + allocation[phase].stock2;
                    errorMsg = `${phase} ì¥ ìƒí™©ì˜ ì£¼ì‹ ë°°ë¶„ í•©ê³„(${totalStock}%)ê°€ 100%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (í˜„ê¸ˆ ë¹„ìœ¨: ${allocation[phase].cash}%)`;
                    isValid = false;
                    break;
                }
            }

            if (!isValid) {
                document.getElementById('error').textContent = `ì˜¤ë¥˜: ${errorMsg}`;
                document.getElementById('error').classList.add('show');
                return;
            }

            // **ì„±ê³µì ì¸ ì‹¤í–‰ ì „, í˜„ì¬ ì„¤ì •ê°’ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥**
            saveSettings();

            document.getElementById('error').classList.remove('show');
            document.getElementById('results').classList.remove('show');
            document.getElementById('loading').classList.add('show');
            document.getElementById('submitBtn').disabled = true;

            try {
                const response = await fetch('/api/advanced-backtest', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        stock1Ticker,
                        stock2Ticker,
                        startDate,
                        endDate,
                        initialCash,
                        allocation,
                        maConfig // maConfigë¥¼ ì„œë²„ë¡œ ì „ì†¡
                    })
                });

                const data = await response.json();
                if (!data.success) throw new Error(data.error);

                currentData = data;
                displayResults(data, 'daily');

            } catch (error) {
                document.getElementById('error').textContent = `ì˜¤ë¥˜: ${error.message}`;
                document.getElementById('error').classList.add('show');
            } finally {
                document.getElementById('loading').classList.remove('show');
                document.getElementById('submitBtn').disabled = false;
            }
        });

        document.getElementById('btnDaily').addEventListener('click', () => changeView('daily'));
        document.getElementById('btnMonthly').addEventListener('click', () => changeView('monthly'));
        document.getElementById('btnYearly').addEventListener('click', () => changeView('yearly'));

        function changeView(view) {
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn' + view.charAt(0).toUpperCase() + view.slice(1)).classList.add('active');
            
            if (currentData) {
                displayTable(currentData, view);
            }
        }

        // ğŸ’¡ ìˆ˜ì •ëœ displayResults í•¨ìˆ˜: ìš”ì•½ ì¹´ë“œë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ê³  ì£¼ê°€ ìƒìŠ¹ë¥ ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
        function displayResults(data, view) {
            document.getElementById('stock1Header').innerHTML = `${data.stock1Ticker}<br>ì£¼ê°€`;
            document.getElementById('stock1ValueHeader').innerHTML = `${data.stock1Ticker}<br>í‰ê°€ì•¡`;
            document.getElementById('stock2Header').innerHTML = `${data.stock2Ticker}<br>ì£¼ê°€`;
            document.getElementById('stock2ValueHeader').innerHTML = `${data.stock2Ticker}<br>í‰ê°€ì•¡`;
            
            const totalReturnClass = data.summary.totalReturn >= 0 ? 'positive' : 'negative';
            const profitClass = data.summary.profit >= 0 ? 'positive' : 'negative';
            const priceReturnClass = data.summary.stock1PriceReturn >= 0 ? 'positive' : 'negative';

            const summaryHtml = `
                <div class="summary-card">
                    <h3>ìµœì¢… í‰ê°€ê¸ˆì•¡</h3>
                    <div class="value">$${data.summary.finalValue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                </div>
                <div class="summary-card">
                    <h3>ì´ ìˆ˜ìµë¥ </h3>
                    <div class="value ${totalReturnClass}">${data.summary.totalReturn.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</div>
                </div>
                <div class="summary-card">
                    <h3>ì†ìµ</h3>
                    <div class="value ${profitClass}">$${data.summary.profit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                </div>
                <div class="summary-card">
                    <h3>${data.stock1Ticker} ì£¼ê°€ìƒìŠ¹ë¥ </h3>
                    <div class="value ${priceReturnClass}">${data.summary.stock1PriceReturn.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</div>
                </div>
            `;
            
            // ê¸°ì¡´ì˜ í•˜ë“œì½”ë”©ëœ ìš”ì•½ ì¹´ë“œ ì˜ì—­ ëŒ€ì‹  ë™ì ìœ¼ë¡œ ìƒì„±ëœ HTMLì„ ì‚½ì…
            document.getElementById('summaryResults').innerHTML = summaryHtml; 

            displayTable(data, view);
            document.getElementById('results').classList.add('show');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function displayTable(data, view) {
            let resultsData, title;
            if (view === 'daily') {
                resultsData = data.dailyResults;
                title = 'ì˜ì—…ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ í˜„í™©';
            } else if (view === 'monthly') {
                resultsData = data.monthlyResults;
                title = 'ì›”ë³„ í¬íŠ¸í´ë¦¬ì˜¤ í˜„í™©';
            } else {
                resultsData = data.yearlyResults;
                title = 'ì—°ë³„ í¬íŠ¸í´ë¦¬ì˜¤ í˜„í™©';
            }

            document.getElementById('tableTitle').textContent = title;
            const tableBody = document.getElementById('resultsTable');
            tableBody.innerHTML = '';

            resultsData.forEach(row => {
                const tr = document.createElement('tr');
                const returnClass = row.returnRate >= 0 ? 'positive' : 'negative';
                
                const phaseClass = row.phaseKey ? `phase-${row.phaseKey}-cell` : '';
                
                tr.innerHTML = `
                    <td>${row.date}</td>
                    <td class="${phaseClass}"><strong>${row.phase}</strong></td>
                    <td>${row.tqqqPrice.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td>${row.stock1Price.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td>${row.stock1Value.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td>${row.stock2Price.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td>${row.stock2Value.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td>${row.cash.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td><strong>${row.totalValue.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong></td>
                    <td class="${returnClass}">${row.returnRate.toFixed(2)}%</td>
                `;
                tableBody.appendChild(tr);
            });
        }
        
        /**
         * í˜„ì¬ ì¥ ìƒí™© ì •ë³´ë¥¼ ì„œë²„ë¡œë¶€í„° ê°€ì ¸ì™€ì„œ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
         */
        function fetchCurrentPhase() {
            const boxEl = document.getElementById('currentPhaseBox');
            const loadingHtml = `
                <h3>í˜„ì¬ ì¥ ìƒí™© í™•ì¸ ì¤‘...</h3>
                <span class="current-phase-status" style="font-size: 1.5em;"><div class="spinner spinner-small"></div></span>
            `;
            boxEl.innerHTML = loadingHtml;
            boxEl.className = 'current-phase-box'; // ë¡œë”© ì¤‘ì—ëŠ” ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìœ ì§€

            fetch('/api/current-phase')
                .then(response => {
                    if (!response.ok) {
                         // ì„œë²„ ì—ëŸ¬ë„ json í˜•íƒœë¡œ ì˜ˆìƒí•˜ê³  ì²˜ë¦¬
                         return response.json().catch(() => ({ success: false, message: 'ì„œë²„ ì—°ê²° ì‹¤íŒ¨.' }));
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.success) {
                        const html = `
                            <h3>ğŸ“Š ${data.date} ê¸°ì¤€ í˜„ì¬ ì¥ ìƒí™© (TQQQ)</h3>
                            <span class="current-phase-status ${data.phaseKey}">${data.phaseName}</span>
                            <p class="current-phase-detail">
                                TQQQ: $${data.tqqqPrice} | MA20: $${data.ma20} | MA200: $${data.ma200} | MA1000: $${data.ma1000}
                            </p>
                        `;
                        boxEl.innerHTML = html;
                        boxEl.className = `current-phase-box ${data.phaseKey}`;
                    } else {
                        const html = `
                            <h3>âš ï¸ í˜„ì¬ ì¥ ìƒí™© í™•ì¸ ë¶ˆê°€</h3>
                            <span class="current-phase-status error" style="font-size: 1.5em;">${data.message || 'ì˜¤ë¥˜ ë°œìƒ'}</span>
                        `;
                        boxEl.innerHTML = html;
                        boxEl.className = `current-phase-box error`;
                    }
                })
                .catch(error => {
                    console.error('Error fetching current phase:', error);
                    boxEl.innerHTML = `
                        <h3>âš ï¸ í˜„ì¬ ì¥ ìƒí™© í™•ì¸ ì‹¤íŒ¨</h3>
                        <span class="current-phase-status error" style="font-size: 1.5em;">ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë˜ëŠ” ì„œë²„ ì‘ë‹µ ë¬¸ì œ</span>
                    `;
                    boxEl.className = `current-phase-box error`;
                });
        }
    </script>
</body>
</html>